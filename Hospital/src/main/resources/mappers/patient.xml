<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="patient">
	<select id="duplicatedId" parameterType="String" resultType="String">
		
		SELECT 
			PATIENT_ID
		FROM
			PATIENT
		WHERE
			PATIENT_ID = #{patientId}
	</select>
	
	<select id="duplicatedEmail" parameterType="String" resultType="String">
	
		SELECT
			PATIENT_EMAIL
		FROM
			PATIENT
		WHERE
			PATIENT_EMAIL = #{patientEmail}
	
	</select>
	
	<insert id="insertPatientInfo" parameterType="PatientDTO">
		INSERT INTO PATIENT(PATIENT_ID, PATIENT_PW, PATIENT_NAME, PATIENT_BIRTH, PATIENT_EMAIL, PATIENT_ZIPCODE, PATIENT_ROAD_ADDRESS, PATIENT_JIBUN_ADDRESS, PATIENT_NAMUJI_ADDRESS)
		
		VALUES(
			#{patientId},
			#{patientPw},
			#{patientName},
			#{patientBirth},
			#{patientEmail},
			#{patientZipcode},
			#{patientRoadAddress},
			#{patientJibunAddress},
			#{patientNamujiAddress}
		)
		
		
	</insert>
	
	<select id="getEncodedPassword" parameterType="String" resultType="String">
	 	
	 	SELECT
	 		PATIENT_PW
	 	FROM
	 		PATIENT
	 	WHERE
	 		PATIENT_ID = #{loginId}
	
	
	</select>
	
	<select id="getLoginInfo" parameterType="CommonLoginDTO" resultType="PatientDTO">
	
		SELECT
			*
		FROM
			PATIENT
		WHERE
			PATIENT_ID = #{loginId}
	
	</select>

</mapper>